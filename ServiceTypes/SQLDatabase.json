{
    "Name":  "SQLDatabase",
    "SessionTestCmdlet":  "Test-DbaConnection",
    "SessionTestCmdletParameters":  [
                                        {
                                            "Name":  "SQLInstance",
                                            "ValueType":  "Static",
                                            "Value":  "$SQLConnection"
                                        }
                                    ],
    "OrgSystemServiceTypeAttributes":  [
                                           {
                                               "Name":  "DatabaseName",
                                               "type":  "string",
                                               "mandatory":  true,
                                               "value":  ""
                                           },
                                           {
                                               "Name":  "SQLServerFQDN",
                                               "type":  "string",
                                               "mandatory":  true,
                                               "value":  ""
                                           }
                                       ],
    "DefaultsToWellKnownEndPoint":  false,
    "WellKnownEndPointURI":  null,
    "WellKnownEndPointAuthMethod":  null,
    "EndPointServiceTypeAttributes":  [

                                      ],
    "PSSessionConnectRequiredModule":  [

                                       ],
    "PSSessionCmdlet":  null,
    "PSSessionConstrained":  false,
    "PSSessionParameters":  [
                                {
                                    "name":  "ComputerName",
                                    "ValueType":  "ScriptBlock",
                                    "Value":  "$Endpoint.Address"
                                },
                                {
                                    "name":  "ConfigurationName",
                                    "ValueType":  "Static",
                                    "Value":  "Microsoft.Powershell"
                                }
                            ],
    "PSSessionSettings":  {
                              "Initialization":  {
                                                     "Phase1_PreModuleImport":  [

                                                                                ],
                                                     "Phase2_ModuleImport":  [
                                                                                 {
                                                                                     "name":  "dbaTools",
                                                                                     "type":  "module"
                                                                                 }
                                                                             ],
                                                     "Phase3":  [
                                                                    {
                                                                        "command":  "Connect-DBAInstance",
                                                                        "parameters":  [
                                                                                           {
                                                                                               "name":  "SQLConnectionOnly",
                                                                                               "ValueType":  "Static",
                                                                                               "Value":  true
                                                                                           },
                                                                                           {
                                                                                               "name":  "SQLInstance",
                                                                                               "ValueType":  "ScriptBlock",
                                                                                               "Value":  "$ServiceObject.ServiceTypeAttributes.SQLServerFQDN"
                                                                                           },
                                                                                           {
                                                                                               "name":  "Database",
                                                                                               "ValueType":  "ScriptBlock",
                                                                                               "Value":  "$ServiceObject.ServiceTypeAttributes.DatabaseName"
                                                                                           },
                                                                                           {
                                                                                               "name":  "ClientName",
                                                                                               "ValueType":  "Static",
                                                                                               "Value":  "OneShell"
                                                                                           },
                                                                                           {
                                                                                               "name":  "EncryptConnection",
                                                                                               "ValueType":  "Static",
                                                                                               "Value":  true
                                                                                           },
                                                                                           {
                                                                                               "name":  "TrustServerCertificate",
                                                                                               "ValueType":  "Static",
                                                                                               "Value":  true
                                                                                           },
                                                                                           {
                                                                                               "name":  "OutVariable",
                                                                                               "ValueType":  "Static",
                                                                                               "Value":  "SQLConnection"
                                                                                           },
                                                                                           {
                                                                                               "name":  "Credential",
                                                                                               "ValueType":  "ScriptBlock",
                                                                                               "Value":  "$ServiceObject.Credentials.Service"
                                                                                           }
                                                                                       ]
                                                                    }
                                                                ]
                                                 },
                              "Import":  {
                                             "ModulesAndCommands":  [
                                                                        {
                                                                            "name":  "Invoke-DbaSql*,Import-DbaCsvToSql,Write-DbaDataTable,ConvertTo-DbaDataTable",
                                                                            "type":  "Command"
                                                                        }
                                                                    ],
                                             "ArbitraryCommands":  [
                                                                       {
                                                                           "conditions":  [

                                                                                          ],
                                                                           "command":  "Invoke-Expression",
                                                                           "parameters":  [
                                                                                              {
                                                                                                  "name":  "command",
                                                                                                  "ValueType":  "Static",
                                                                                                  "Value":  "$PSDefaultParameterValues.Add(\u0027Invoke-DbaSql*:SQLInstance\u0027,$SqlConnection)"
                                                                                              }
                                                                                          ]
                                                                       },
                                                                       {
                                                                           "conditions":  [

                                                                                          ],
                                                                           "command":  "Invoke-Expression",
                                                                           "parameters":  [
                                                                                              {
                                                                                                  "name":  "command",
                                                                                                  "ValueType":  "Static",
                                                                                                  "Value":  "$PSDefaultParameterValues.Add(\u0027Import-DbaCsvToSql:SQLInstance\u0027,$SqlConnection)"
                                                                                              }
                                                                                          ]
                                                                       },
                                                                       {
                                                                           "conditions":  [

                                                                                          ],
                                                                           "command":  "Invoke-Expression",
                                                                           "parameters":  [
                                                                                              {
                                                                                                  "name":  "command",
                                                                                                  "ValueType":  "Static",
                                                                                                  "Value":  "$PSDefaultParameterValues.Add(\u0027Write-DbaDataTable:SQLInstance\u0027,$SqlConnection)"
                                                                                              }
                                                                                          ]
                                                                       }
                                                                   ]
                                         }
                          }
}
